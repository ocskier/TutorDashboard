{"version":3,"sources":["Components/Header/Header.jsx","Components/Table/Table.js","App.js","index.js"],"names":["useStyles","makeStyles","theme","root","flexGrow","appBar","backgroundColor","menuButton","marginRight","spacing","title","display","breakpoints","up","search","position","borderRadius","shape","fade","palette","common","white","marginLeft","width","searchIcon","padding","height","alignItems","justifyContent","right","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","Header","classes","className","AppBar","Toolbar","IconButton","edge","aria-label","Typography","variant","noWrap","Table","students","useState","columns","field","data","state","setState","useEffect","prevState","length","console","log","options","sorting","editable","onRowAdd","newData","Promise","resolve","setTimeout","push","onRowUpdate","oldData","indexOf","onRowDelete","splice","createStyles","hide","visibility","show","App","setStudents","time","setTime","error","setError","a","fetch","response","ok","json","date","Date","toLocaleString","studentsResRaw","studentsData","statusText","fetchAllData","style","flexWrap","map","student","numDate","graduationDate","$date","_id","$oid","getMonth","getDate","getFullYear","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8e45997c.chunk.js","sourcesContent":["import React from 'react';\n\nimport { AppBar, IconButton, Toolbar, Typography } from \"@material-ui/core\";\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  appBar: {\n    backgroundColor: 'grey'\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'block',\n    },\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(1),\n      width: 'auto',\n    },\n    display: \"inline-flex\",\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    // pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    right: '-10px'\n  },\n  inputRoot: {\n    color: 'inherit',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    paddingLeft: `calc(1em)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      width: '12ch',\n      '&:focus': {\n        width: '20ch',\n      },\n    },\n  },\n}));\n\nexport default function Header() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <AppBar className={classes.appBar} position=\"static\">\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography className={classes.title} variant=\"h6\" noWrap>\n            Student Directory\n          </Typography>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport MaterialTable from 'material-table';\n\nexport default function Table({students}) {\n  const [state, setState] = useState({\n    columns: [\n    //   {\n    //     title: '',\n    //     field: 'pic',\n    //     render: rowData => <img src={rowData.pic} style={{ width: 100, borderRadius: '50%' }} />,\n    //     cellStyle: {\n    //       textAlign: 'center',\n    //     },\n    //   },\n      {\n        title: 'Code',\n        field: 'classCode' \n      },\n      { title: 'Name', field: 'fullName' },\n      {\n        title: 'Email',\n        field: 'email',\n      },\n      {\n        title: 'GH',\n        field: 'githubId',\n      },\n      {\n        title: 'Grad Date',\n        field: 'graduationDate'\n      },\n      {\n        title: 'Sessions',\n        field: 'sessionsWeek'\n      },\n      {\n        title: 'Diff',\n        field: 'timeDiff'\n      },\n      {\n        title: 'Zoom',\n        field: 'zoomLink'\n      },\n      {\n        title: 'Spot',\n        field: 'startingPoint'\n      }\n    ],\n    data: [],\n  });\n\n  useEffect(() => {\n    setState(prevState=>{\n        return { ...prevState, data: students };\n    });\n  }, [students]);\n\n  useEffect(()=>{\n    students.length > 0 && console.log(students);\n  },[students]);\n  \n  return (\n    <MaterialTable\n      title=\"\"\n      columns={state.columns}\n      data={state.data}\n      options={{ sorting: true }}\n      editable={{\n        onRowAdd: (newData) =>\n          new Promise(resolve => {\n            setTimeout(() => {\n              resolve();\n              setState(prevState => {\n                const data = [...prevState.data];\n                data.push(newData);\n                return { ...prevState, data };\n              });\n            }, 600);\n          }),\n        onRowUpdate: (newData, oldData) =>\n          new Promise(resolve => {\n            setTimeout(() => {\n              resolve();\n              if (oldData) {\n                setState(prevState => {\n                  const data = [...prevState.data];\n                  data[data.indexOf(oldData)] = newData;\n                  return { ...prevState, data };\n                });\n              }\n            }, 600);\n          }),\n        onRowDelete: (oldData) =>\n          new Promise(resolve => {\n            setTimeout(() => {\n              resolve();\n              setState(prevState => {\n                const data = [...prevState.data];\n                data.splice(data.indexOf(oldData), 1);\n                return { ...prevState, data };\n              });\n            }, 600);\n          }),\n      }}\n    />\n  );\n}\n\n// const promiseHandler = useMemo((newData, oldData) => \n// new Promise(resolve => {\n//     setTimeout(() => {\n//       resolve();\n//       setState(prevState => {\n//         const data = [...prevState.data];\n//         data.push(newData);\n//         return { ...prevState, data };\n//       });\n//     }, 600);\n//   }),\n// )\n","import React, { useEffect, useState } from \"react\";\nimport clsx from 'clsx';\n\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\n\nimport Header from \"./Components/Header\";\nimport Table from \"./Components/Table\";\n\nimport './App.css';\n\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    hide: {\n      visibility: \"hidden\",\n    },\n    show: {\n      visibility: \"visible\",\n    },\n  })\n);\n\nexport const App = () => {\n  const [students, setStudents] = useState([]);\n  const [time, setTime] = useState(null);\n  const [error, setError] = useState(false);\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    async function fetchAllData() {\n      try {\n        const response = await fetch(\"/current-time\");\n        if (response.ok) {\n          const data = await response.json();\n          const date = new Date();\n          date.setTime(data.time * 1000);\n          date.toLocaleString();\n          const studentsResRaw = await fetch(\"/api/students\");\n          const studentsData = await studentsResRaw.json();\n          setTime(date);\n          setStudents(studentsData);\n        } else {\n          setError(response.statusText);\n        }\n      } catch (err) {\n        console.log(err)\n        setError(true);\n      }\n    }\n    fetchAllData();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <Header />\n      {!error ? (\n        <div className='main'>\n          <p className=\"pt-2 text-center text-success\">\n            {!time ? \"Loading...\" : `${time}`}\n          </p>\n          <div style={{ display: \"flex\", justifyContent: \"space-around\", flexWrap: 'wrap' }}>\n            <div>\n              <Table students={students.map(student =>{\n                const numDate = new Date(student.graduationDate.$date);\n                return { \n                  ...student, \n                  _id: student._id.$oid, \n                  graduationDate: `${numDate.getMonth()+1}/${numDate.getDate()}/${numDate.getFullYear()}`\n                }\n              })} />\n            </div>\n          </div>\n        </div>\n      ) : (\n        <p className=\"pt-2 text-center text-error\">{error}</p>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}