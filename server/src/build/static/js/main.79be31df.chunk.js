(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{343:function(e,t,n){e.exports=n(411)},348:function(e,t,n){},409:function(e,t,n){},410:function(e,t,n){},411:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),i=n.n(c),o=(n(348),n(78)),l=n(113),s=n.n(l),u=n(174),d=n(84),f=(n(2),n(292)),p=n(313),m=n(77),b=n(432),h=n(293),g=n(224),j=n(83),O=n(10),v=n(330),E=n.n(v),k=Object(f.a)((function(e){var t;return{root:{flexGrow:1},appBar:{backgroundColor:"grey"},menuButton:{marginRight:e.spacing(2)},title:Object(m.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:(t={position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(O.d)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(O.d)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},Object(m.a)(t,e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),Object(m.a)(t,"display","inline-flex"),t),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",right:"-10px"},inputRoot:{color:"inherit"},inputInput:Object(m.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em)",transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}}));function w(){var e=k();return r.a.createElement("div",{className:e.root},r.a.createElement(b.a,{className:e.appBar,position:"static"},r.a.createElement(h.a,null,r.a.createElement(g.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer"},r.a.createElement(E.a,null)),r.a.createElement(j.a,{className:e.title,variant:"h6",noWrap:!0},"Student Directory"))))}var x=n(198),y=n(225),S=n.n(y),N=n(311),D=n(325),C=n(334),I=n.n(C);n(409);function L(e){var t=e.students,n=Object(a.useState)({columns:[{title:"",render:function(e){return r.a.createElement(N.a,{control:r.a.createElement(D.a,{checked:b["checked-".concat(e.fullName)],onChange:E,name:"checked-".concat(e.fullName),color:"primary"})})},cellStyle:{textAlign:"center"}},{title:"Code",field:"classCode"},{title:"Name",field:"fullName"},{title:"Email",field:"email",render:function(e){return r.a.createElement("a",{href:"mailto:".concat(e.email)},e.email)}},{title:"GH",field:"githubId",render:function(e){return r.a.createElement("a",{href:"https://github.com/".concat(e.githubId),target:"_blank",rel:"noopener noreferrer"},e.githubId)}},{title:"Grad Date",field:"graduationDate"},{title:"Sessions",field:"sessionsWeek"},{title:"Diff",field:"timeDiff"},{title:"Zoom",field:"zoomLink",render:function(e){return r.a.createElement("a",{href:e.zoomLink,target:"_blank",rel:"noopener noreferrer"},e.zoomLink)}},{title:"Spot",field:"startingPoint"}],data:[]}),c=Object(d.a)(n,2),i=c[0],l=c[1],f=r.a.useState({}),p=Object(d.a)(f,2),b=p[0],h=p[1],g=r.a.useState(!1),j=Object(d.a)(g,2),O=j[0],v=j[1];Object(a.useEffect)((function(){l((function(e){return Object(o.a)({},e,{data:t})}))}),[t]),Object(a.useEffect)((function(){Object.entries(b).map((function(e){return e[1]})).filter((function(e){return e})).length>0?v(!0):v(!1)}),[b]);var E=function(e){h((function(t){return Object(o.a)({},t,Object(m.a)({},e.target.name,e.target.checked))}))},k=function(e){var t=e.graduationDate.split("/");return fetch("/api/students",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(o.a)({},e,{graduationDate:[parseInt(t[2]),parseInt(t[0]),parseInt(t[1])]}))})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{title:"",columns:i.columns,data:i.data,options:{tableLayout:"auto",sorting:!0,rowStyle:{backgroundColor:"#EEE"},actionsColumnIndex:-1,addRowPosition:"first"},components:{},actions:[{icon:function(){return r.a.createElement(I.a,null)},tooltip:"Send all emails",isFreeAction:!0,disabled:!O,onClick:function(e){return alert("Sending all emails")}}],editable:{onRowAdd:function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(t);case 3:e.sent,l((function(e){var n=Object(x.a)(e.data);return n.push(t),Object(o.a)({},e,{data:n})})),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),onRowUpdate:function(e,t){return new Promise((function(n){setTimeout((function(){n(),t&&l((function(n){var a=Object(x.a)(n.data);return a[a.indexOf(t)]=e,Object(o.a)({},n,{data:a})}))}),600)}))},onRowDelete:function(e){return new Promise((function(t){setTimeout((function(){t(),l((function(t){var n=Object(x.a)(t.data);return n.splice(n.indexOf(e),1),Object(o.a)({},t,{data:n})}))}),600)}))}}}))}n(410);var R=Object(f.a)((function(e){return Object(p.a)({hide:{visibility:"hidden"},show:{visibility:"visible"},tableWrapper:{width:"100%"}})})),T=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(null),l=Object(d.a)(i,2),f=l[0],p=l[1],m=Object(a.useState)(!1),b=Object(d.a)(m,2),h=b[0],g=b[1],j=R();return Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(s.a.mark((function e(){var t,n,a,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/current-time");case 3:if(!(t=e.sent).ok){e.next=21;break}return e.next=7,t.json();case 7:return n=e.sent,(a=new Date).setTime(1e3*n.time),a.toLocaleString(),e.next=13,fetch("/api/students");case 13:return r=e.sent,e.next=16,r.json();case 16:i=e.sent,p(a),c(i),e.next=22;break;case 21:g(t.statusText);case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0),g(!0);case 28:case"end":return e.stop()}}),e,null,[[0,24]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(w,null),h?r.a.createElement("p",{className:"pt-2 text-center text-error"},h):r.a.createElement("div",{className:"main"},r.a.createElement("p",{className:"pt-2 text-center text-success"},f?"".concat(f):"Loading..."),r.a.createElement("div",{className:j.tableWrapper},r.a.createElement(L,{students:n.map((function(e){var t=new Date(e.graduationDate.$date);return Object(o.a)({},e,{_id:e._id.$oid,graduationDate:"".concat(t.getMonth()+1,"/").concat(t.getDate(),"/").concat(t.getFullYear())})}))}))))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root"))}},[[343,1,2]]]);
//# sourceMappingURL=main.79be31df.chunk.js.map